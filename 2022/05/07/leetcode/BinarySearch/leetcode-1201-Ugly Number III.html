<hr>
<p>title: leetcode-1201-Ugly Number III<br>date: 2022-05-21 21:50:52<br>summary: 丑数 III<br>categories: leetcode</p>
<ul>
<li>二分</li>
</ul>
<hr>
<h2 id="丑数-III"><a href="#丑数-III" class="headerlink" title="丑数 III"></a>丑数 III</h2><p><a href="https://leetcode.cn/problems/ugly-number-iii/">leetcode-1201-Ugly Number III</a></p>
<pre><code class="java">class Solution {
    public int nthUglyNumber(int n, int a, int b, int c) {
        long ans = -1;
        long ab = lcm( a, b);
        long ac = lcm( a, c);
        long bc = lcm( b, c);
        long abc = lcm(ab, c);
        long l = 1;
        long r = Integer.MAX_VALUE;
        while (l &lt;= r){
            long mid = l + (r - l &gt;&gt; 1);
            long count = mid / a + mid / b + mid / c - ((mid / ab) + (mid / ac) + (mid / bc)) +  (mid / abc);
            if (count &gt;= n){
                ans = mid;
                r = mid - 1;
            }else {
                l = mid + 1;
            }
        }
        return (int) ans;
    }

    private long gcd(long a, long b){
        return b == 0 ? a : gcd(b, a % b);
    }

    private long lcm(long a, long b){
        return a * b / gcd(Math.max(a, b) , Math.min(a, b));
    }
}
</code></pre>
