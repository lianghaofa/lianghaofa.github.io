---
title: 会话管理 概述
date: 2022-05-22 10:24:52
summary: 会话管理 概述
categories: 会话管理 概述
tags:


---
## 会话管理 概述

Http 无状态的服务


使用 Session(服务器端) 与 Cookies&Token(客户端) 自动保持会话


浏览器访问服务器，服务器会根据UA生成唯一的字符串，存到Session中，然后写到客户端的cookie中，如果浏览器禁用cookie，则下发Token.

当多台机器提供服务，需要对 Session 进行管理


浏览器同源策略

域名，协议，端口 ，有一项不一样就会不同源。

唯一的字符串，

相同的源 使用相同的会话机制

跨域

不同源， JS 无法发送异步请求

jsonp - 服务器端返回数据与js文件，js文件中调用客户端的函数，并把数据传入

![跨域请求 - jsonp](/medias/MQ/1653193169.png)


Cors - 在浏览器中指定Origin

 


### Shiro

RememberMe - 设置 session 的有效时间

### Spring Security


### SSO

Single Sign On  单点登录


### Session


SessionId 

session 的 唯一标识 ？ ip + port ?

SessionId 是服务器下发的。



Cookies ? 可以指定域名？

#### Session 共享


Oauth - 统一网关，检验session，再进行分发。

客户端 -> 统一网关 -> 服务器端


CAS 


头信息签名算法

消息体，载荷


base64

#### CSRF XSS 攻击


页面请求网页

CC/DDOS 流量攻击

XSS 流量攻击

CSRF



### Cookies&Token



### 对称加密

摘要算法 - 快 不可逆 相同的源加密结果一样

MD5 快，但不安全。

hash(明文 + 盐) , 固定盐 ,  随机盐

随机盐 

多次加密,递归加密。

sha1,sha256 ...

### 防火墙

黑白名单，在os层级上做。

减轻应用服务器的压力。

sql注入

select * from x where id = 1 and xx = 2; 

select * from x where id = ''; and xx = 2;

select * from x;

sql 注入的解决方案

1.传对象

2.Spring Security 非法字符校验。






05 3 无状态会话


