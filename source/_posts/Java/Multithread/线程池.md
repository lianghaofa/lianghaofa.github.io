---
title: 线程池
summary: 线程池
categories: 并发编程
date: 2022-04-23 03:25:00
tags:
- 并发
- 多线程
- java
---
## 并线程池

### 线程池
线程池同理，正是因为每次创建、销毁线程需要占用太多系统资源，所以我们建这么一个池子来统一管理线程。

### Executor 线程池顶级接口
``` java
    public interface Executor{
        /**
         *
         * @description 执行无返回值任务
         * @param command
         * @return void
         */
        void execute(Runnable command);
    }
```
###  ExecutorService 线程池次接口
``` java
    public interface ExecutorService extends Executor {
        /**
         * @description 关闭线程池，不再接受新任务，但已经提交的任务会执行完成
         * @param
         * @return void
         */
        void shutdown();
        /**
         * @description 关闭线程池，不再接受新任务，尝试停止运行的任务及未执行的任务，返回相关任务
         * @param
         * @return java.util.List<java.lang.Runnable>
         */
        List<Runnable> shutdownNow();
        /**
         * @description 线程池是否已关闭
         * @param
         * @return boolean
         */
        boolean isShutdown();
        /**
         * @description 线程池是否已终止
         * @param 
         * @return boolean
         */ 
        boolean isTerminated();

        boolean awaitTermination(long timeout, TimeUnit unit)
                throws InterruptedException;

        <T> Future<T> submit(Callable<T> task);

        <T> Future<T> submit(Runnable task, T result);

        Future<?> submit(Runnable task);
        /**
         * @description 批量任务
         * @param tasks
         * @return java.util.List<java.util.concurrent.Future<T>>
         */
        <T> List<Future<T>> invokeAll(Collection<? extends Callable<T>> tasks)
                throws InterruptedException;
        /**
         * @description 所有任务的执行时间
         * @param tasks
         * @param timeout
         * @param unit
         * @return java.util.List<java.util.concurrent.Future<T>>
         */
        <T> List<Future<T>> invokeAll(Collection<? extends Callable<T>> tasks,
                                      long timeout, TimeUnit unit)
                throws InterruptedException;
        /**
         * @description 返回任意一个已完成的执行结果，未执行的任务将取消
         * @param tasks
         * @return T
         */
        <T> T invokeAny(Collection<? extends Callable<T>> tasks)
                throws InterruptedException, ExecutionException;
        /**
         * @description 在指定时间内有任务完成，则返回任意一个已完成的执行结果，未执行的任务将取消
         * @param tasks
         * @param timeout
         * @param unit
         * @return T
         */
        <T> T invokeAny(Collection<? extends Callable<T>> tasks,
                        long timeout, TimeUnit unit)
                throws InterruptedException, ExecutionException, TimeoutException;
    }
```



###  ScheduledExecutorService 定时任务相关


###  AbstractExecutorService 抽象类，模板方法设计模式





###  ThreadPoolExecutor 普通线程池类，基本的线程池操作方法

###  ScheduledThreadExecutor 定时任务线程池，定时相关功能

###  ForkJoinPool java7新增线程池类，大任务拆分小任务

###  Executor 线程池工具类，定义了一些快速线程池的方法




